{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Design Schema",
    "description": "Schema for design  in v1Beta1",
    "type": "object",
    "properties": {
        "name": {
            "type": "string",
            "description": "Name of the design"
        },
        "schemaVersion": {
            "$comment": "Not mandating the schemaVersion in v1alpha2 of design schema as it will lead to exisitng designs be incompatible. We will be migrating to v1beta1 and ensuring the compatibility with exisiting design in v1beta1",
            "type": "string",
            "description": "Specifies the version of the schema to which the design  conforms."
        },
        "version": {
            "$comment": "Not mandating the version in v1alpha2 of design schema as it will lead to exisitng designs be incompatible. We will be migrating to v1beta1 and ensuring the compatibility with exisiting design in v1beta1",
            "type": "string",
            "description": "Version of the design",
            "minLength": 1,
            "maxLength": 50
        },
        "services": {
            "description": "Map of component IDs/names to their corresponding component declarations",
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    },
                    "apiVersion": {
                        "type": "string"
                    },
                    "namespace": {
                        "type": "string"
                    },
                    "version": {
                        "type": "string"
                    },
                    "model": {
                        "type": "string"
                    },
                    "isAnnotation": {
                        "type": "boolean"
                    },
                    "labels": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object"
                    },
                    "annotations": {
                        "additionalProperties": {
                            "type": "string"
                        },
                        "type": "object"
                    },
                    "dependsOn": {
                        "items": {
                            "type": "string"
                        },
                        "type": "array"
                    },
                    "settings": {
                        "type": "object"
                    },
                    "traits": {
                        "type": "object"
                    }
                }
            }
        }
    },
    "required": [
        "name",
        "services"
    ]
}